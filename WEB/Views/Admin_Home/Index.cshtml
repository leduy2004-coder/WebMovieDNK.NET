@{
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";  // Sử dụng layout admin của trang
}

<!-- Thêm thư viện Chart.js từ CDN -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


<style>
    #Chart {
        width: 80% !important; /* Đặt chiều rộng là 80% của phần tử chứa */
        height: 300px !important; /* Đặt chiều cao cố định */
        display: block;
    }
</style>
<!-- Định nghĩa một canvas nơi biểu đồ sẽ được vẽ lên -->
<canvas id="Chart"></canvas>

<script>
    // Bước 1: Lấy dữ liệu từ Razor (Model chứa mảng số vé mua theo tháng)
    var data = @Html.Raw(Json.Serialize(Model));  // Chuyển dữ liệu từ Razor sang dạng JSON

    // Bước 2: Xác định các tháng trong năm (từ 1 đến 12)
    const labels = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];

    // Bước 3: Lấy đối tượng canvas với ID "myChart"
    const ctx = document.getElementById('Chart').getContext('2d');  // Đối tượng canvas

    // Bước 4: Khởi tạo biểu đồ với Chart.js
    const myChart = new Chart(ctx, {
        // Kiểu biểu đồ: 'bar' là biểu đồ cột
        type: 'bar',

        // Dữ liệu cho biểu đồ
        data: {
            // Các nhãn cho trục X (tháng trong năm)
            labels: labels,

            // Dữ liệu cần hiển thị trong biểu đồ
            datasets: [{
                label: 'Số vé mua',  // Tiêu đề cho bộ dữ liệu

                // Dữ liệu được lấy từ controller, là số vé mua theo tháng
                data: data,

                // Màu nền của các cột trong biểu đồ
                backgroundColor: 'rgba(54, 162, 235, 0.2)',

                // Màu viền của các cột
                borderColor: 'rgba(54, 162, 235, 1)',

                // Độ dày của viền cột
                borderWidth: 1
            }]
        },
          
        // Tùy chỉnh các tuỳ chọn cho biểu đồ
        options: {
            // Tùy chỉnh trục Y
            scales: {
                y: {
                    // Đảm bảo trục Y bắt đầu từ 0
                    beginAtZero: true
                }
            }
        }
    });
</script>
